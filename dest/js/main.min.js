!function(s,i,t,e){var n=function(i,t){this.$element=i,this.defaults={msg:"",msgType:"error",insert:!1,regex:/^[0-9]{1,20}$/,addClassName:"",left:0,URL:"",params:{},firstExist:!1,signExist:!1},this.options=s.extend({},this.defaults,t)};n.prototype={beautify:function(){function i(i){s("#"+s(h)[0].id+"msg").attr("datatype",i)}var t=this.options,e=t.msg,n=t.msgType,l=t.insert,a=t.addClassName,o=t.left,r=t.regex,c=t.URL,d=t.params,f=t.firstExist?"inline":"none",p=t.signExist,h=this.$element[0],y=s(h).height(),m=s(h).offset().left,g=s(h).offset().top,u="",x="",v="&#xe64c;",w="&#xe613;",b="&#xe60e;",E="#fe4850",k="orange",C="#84c84d";switch(n){case"error":u=E,x=b;break;case"warnning":u=k,x=w;break;case"success":u=C,x=v}var T="";if(!p){var $='<i class="iconfont icon" style="display:'+f+";font-size:16px; color: "+u+'">'+x+"</i>",_='<span style="color:'+u+";float:none;font-size: 14px;margin-left: 5px;line-height: 25px;display: "+f+';width: auto;">'+e+"</span>",z=$+_;if(l)console.log("往下挤"),T='<div class="tishi_new_1 '+a+'" style="margin-left:'+o+"px\" id='"+s(h)[0].id+"msg' datatype='"+n+"'>"+z+"</div>";else{var L=o+m,N=g+y+3;T='<div class="tishi_new '+a+'" style="top: '+N+"px;left:"+L+"px\" id='"+s(h)[0].id+"msg' datatype='"+n+"'>"+z+"</div>"}}s(h).after(T),s(h).change(function(){var t=s("#"+s(h)[0].id+"msg").children();r.test(""+this.value)?""!=c?(d[this.name]=this.value,s.post(c,d,function(s){var e=s.code,n=s.message;200==e?(i("success"),t.first().css("color",C).css("display","inline").html(v),t.last().css("color",C).css("display","inline").text("验证通过")):(i("error"),t.first().css("color",E).css("display","inline").html(b),t.last().css("color",E).css("display","inline").text(n))}).error(function(s){i("error"),t.first().css("color",E).css("display","inline").html(b),t.last().css("color",E).css("display","inline").text("服务器无响应")})):(i("success"),t.first().css("color",C).css("display","inline").html(v),t.last().css("color",C).css("display","inline").text("验证通过")):(i("error"),t.first().css("color",E).css("display","inline").html(b),t.last().css("color",E).css("display","inline").text(e))})}},s.fn.STInputCheckMsg=function(s){var i=new n(this,s);return i.beautify()}}(jQuery,window,document);