!function(s,i,t,e){var l=function(i,t){this.$element=i,this.defaults={msg:"",msgType:"error",insert:!1,regex:/^[0-9]{1,20}$/,addClassName:"",left:0,URL:"",params:{},firstExist:!1,signExist:!1,compare:""},this.options=s.extend({},this.defaults,t)};l.prototype={beautify:function(){function i(i){s("#"+s(m)[0].id+"msg").attr("datatype",i)}function t(){s(m).change(function(){r.test(""+this.value)?""!=f?(d[this.name]=this.value,s.post(f,d,function(s){var t=s.code,e=s.message;200==t?(i("success"),j.first().css("color",$).css("display","inline").html(b),j.last().css("color",$).css("display","inline").text("验证通过")):(i("error"),j.first().css("color",C).css("display","inline").html(k),j.last().css("color",C).css("display","inline").text(e))}).error(function(s){i("error"),j.first().css("color",C).css("display","inline").html(k),j.last().css("color",C).css("display","inline").text("服务器无响应")})):(i("success"),j.first().css("color",$).css("display","inline").html(b),j.last().css("color",$).css("display","inline").text("验证通过")):(i("error"),j.first().css("color",C).css("display","inline").html(k),j.last().css("color",C).css("display","inline").text(l))})}var e=this.options,l=e.msg,n=e.msgType,c=e.insert,o=e.addClassName,a=e.left,r=e.regex,f=e.URL,d=e.params,p=e.firstExist?"inline":"none",h=e.signExist,y=e.compare,m=this.$element[0],u=s(m).height(),g=s(m).offset().left,x=s(m).offset().top,v="",w="",b="&#xe64c;",E="&#xe613;",k="&#xe60e;",C="#fe4850",T="orange",$="#84c84d";switch(n){case"error":v=C,w=k;break;case"warnning":v=T,w=E;break;case"success":v=$,w=b}var _="";if(!h){var z='<i class="iconfont icon" style="display:'+p+";font-size:16px; color: "+v+'">'+w+"</i>",L='<span style="color:'+v+";float:none;font-size: 14px;margin-left: 5px;line-height: 25px;display: "+p+';width: auto;">'+l+"</span>",N=z+L;if(c)console.log("往下挤"),_='<div class="tishi_new_1 '+o+'" style="margin-left:'+a+"px\" id='"+s(m)[0].id+"msg' datatype='"+n+"'>"+N+"</div>";else{var R=a+g,U=x+u+3;_='<div class="tishi_new '+o+'" style="top: '+U+"px;left:"+R+"px\" id='"+s(m)[0].id+"msg' datatype='"+n+"'>"+N+"</div>"}}s(m).after(_);var j=s("#"+s(m)[0].id+"msg").children();""!=y?s(m).change(function(){var t=s("#"+y).val(),e=s(m).val();console.log(t+" fsf  "+e),t==e?(i("success"),j.first().css("color",$).css("display","inline").html(b),j.last().css("color",$).css("display","inline").text("验证通过")):(i("error"),j.first().css("color",C).css("display","inline").html(k),j.last().css("color",C).css("display","inline").text(l))}):t()}},s.fn.STInputCheckMsg=function(s){var i=new l(this,s);return i.beautify()}}(jQuery,window,document);