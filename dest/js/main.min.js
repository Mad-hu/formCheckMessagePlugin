!function(s,t,e,i){var n=function(t,e){this.$element=t,this.defaults={msg:"",msgType:"error",insert:!1,regex:/^[0-9]{1,20}$/,addClassName:"",left:0,top:0,URL:"",params:{},firstExist:!1,signExist:!1,compare:""},this.options=s.extend({},this.defaults,e)};n.prototype={beautify:function(){function t(e){return 9!=e.parent()[0].nodeType?"relative"==e.parent().css("position")?s(e).parent():t(e.parent()):s(e)}function e(t){s("#"+s(x)[0].id+"msg").attr("datatype",t)}function i(){s(x).change(function(){p.test(""+this.value)?""!=d?(y[this.name]=this.value,s.post(d,y,function(s){var t=s.code,i=s.message;200==t?(e("success"),Q.first().css("color",z).css("display","inline").html(T),Q.last().css("color",z).css("display","inline").text("验证通过")):(e("error"),Q.first().css("color",$).css("display","inline").html(C),Q.last().css("color",$).css("display","inline").text(i))}).error(function(s){e("error"),Q.first().css("color",$).css("display","inline").html(C),Q.last().css("color",$).css("display","inline").text("服务器无响应")})):(e("success"),Q.first().css("color",z).css("display","inline").html(T),Q.last().css("color",z).css("display","inline").text("验证通过")):(e("error"),Q.first().css("color",$).css("display","inline").html(C),Q.last().css("color",$).css("display","inline").text(l))})}var n=this.options,l=n.msg,o=n.msgType,a=n.insert,r=n.addClassName,c=n.left,f=n.top,p=n.regex,d=n.URL,y=n.params,h=n.firstExist?"inline":"none",m=n.signExist,u=n.compare,x=this.$element[0],g=s(x).height(),v=s(x).offset().left,w=s(x).offset().top,b="",E="",T="&#xe64c;",k="&#xe613;",C="&#xe60e;",$="#fe4850",_="orange",z="#84c84d";switch(o){case"error":b=$,E=C;break;case"warnning":b=_,E=k;break;case"success":b=z,E=T}var I="";if(!m){var L='<i class="iconfont icon" style="display:'+h+";font-size:16px; color: "+b+'">'+E+"</i>",N='<span style="color:'+b+";float:none;font-size: 14px;margin-left: 5px;line-height: 25px;display: "+h+';width: auto;">'+l+"</span>",R=L+N;if(a)I='<div class="tishi_new_1 '+r+'" style="margin-left:'+c+"px\" id='"+s(x)[0].id+"msg' datatype='"+o+"'>"+R+"</div>";else{v=s(x).offset().left,w=s(x).offset().top;var U=t(s(x)),j=v+parseInt(c)-U.offset().left,M=w+g+3+f-U.offset().top;I='<div class="tishi_new '+r+'" style="top: '+M+"px;left:"+j+"px\" id='"+s(x)[0].id+"msg' datatype='"+o+"'>"+R+"</div>"}}s(x).after(I);var Q=s("#"+s(x)[0].id+"msg").children();""!=u?s(x).change(function(){var t=s("#"+u).val(),i=s(x).val();t==i?(e("success"),Q.first().css("color",z).css("display","inline").html(T),Q.last().css("color",z).css("display","inline").text("验证通过")):(e("error"),Q.first().css("color",$).css("display","inline").html(C),Q.last().css("color",$).css("display","inline").text(l))}):i()}},s.fn.STInputCheckMsg=function(s){var t=new n(this,s);return t.beautify()}}(jQuery,window,document);